const carComments = [
  {
    createdAt: '2022-05-16T08:58:59.271Z',
    updatedAt: '2022-05-16T08:58:59.271Z',
    id: 56,
    carId: 6,
    comment: 'fourth',
    mom: '',
    userId: 102,
    userInfo: {
      roles: 'CLIENT',
      status: 'ACTIVE',
      email: 'hung0968374@gmail.com',
      info: {
        id: 102,
        userId: 102,
        firstName: 'Hung',
        lastName: 'Nguyen',
        gender: '',
        phoneNumber: '',
        dob: null,
        addressCountry: '',
        addressProvince: null,
        addressDistrict: null,
        addressWard: null,
        addressDetail: '',
        timezone: 'Asia/Saigon',
        stripeCustomerId: '',
        avatar: 'https://avatars.dicebear.com/api/micah/102_HungNguyen.svg?backgroundColor=white',
        user_id: 102,
      },
    },
    like: 0,
    dislike: 0,
  },
  {
    createdAt: '2022-05-16T08:58:56.805Z',
    updatedAt: '2022-05-16T08:58:56.806Z',
    id: 55,
    carId: 6,
    comment: 'third',
    mom: '',
    userId: 102,
    userInfo: {
      roles: 'CLIENT',
      status: 'ACTIVE',
      email: 'hung0968374@gmail.com',
      info: {
        id: 102,
        userId: 102,
        firstName: 'Hung',
        lastName: 'Nguyen',
        gender: '',
        phoneNumber: '',
        dob: null,
        addressCountry: '',
        addressProvince: null,
        addressDistrict: null,
        addressWard: null,
        addressDetail: '',
        timezone: 'Asia/Saigon',
        stripeCustomerId: '',
        avatar: 'https://avatars.dicebear.com/api/micah/102_HungNguyen.svg?backgroundColor=white',
        user_id: 102,
      },
    },
    like: 0,
    dislike: 0,
  },
  {
    createdAt: '2022-05-16T08:58:54.243Z',
    updatedAt: '2022-05-16T08:58:54.243Z',
    id: 54,
    carId: 6,
    comment: 'rep second',
    mom: 53,
    userId: 102,
    userInfo: {
      roles: 'CLIENT',
      status: 'ACTIVE',
      email: 'hung0968374@gmail.com',
      info: {
        id: 102,
        userId: 102,
        firstName: 'Hung',
        lastName: 'Nguyen',
        gender: '',
        phoneNumber: '',
        dob: null,
        addressCountry: '',
        addressProvince: null,
        addressDistrict: null,
        addressWard: null,
        addressDetail: '',
        timezone: 'Asia/Saigon',
        stripeCustomerId: '',
        avatar: 'https://avatars.dicebear.com/api/micah/102_HungNguyen.svg?backgroundColor=white',
        user_id: 102,
      },
    },
    like: 0,
    dislike: 0,
  },
  {
    createdAt: '2022-05-16T08:58:49.368Z',
    updatedAt: '2022-05-16T08:58:49.368Z',
    id: 53,
    carId: 6,
    comment: 'second',
    mom: '',
    userId: 102,
    userInfo: {
      roles: 'CLIENT',
      status: 'ACTIVE',
      email: 'hung0968374@gmail.com',
      info: {
        id: 102,
        userId: 102,
        firstName: 'Hung',
        lastName: 'Nguyen',
        gender: '',
        phoneNumber: '',
        dob: null,
        addressCountry: '',
        addressProvince: null,
        addressDistrict: null,
        addressWard: null,
        addressDetail: '',
        timezone: 'Asia/Saigon',
        stripeCustomerId: '',
        avatar: 'https://avatars.dicebear.com/api/micah/102_HungNguyen.svg?backgroundColor=white',
        user_id: 102,
      },
    },
    like: 0,
    dislike: 0,
  },
  {
    createdAt: '2022-05-16T08:58:44.677Z',
    updatedAt: '2022-05-16T08:58:44.677Z',
    id: 52,
    carId: 6,
    comment: 'rep rep first',
    mom: 51,
    userId: 102,
    userInfo: {
      roles: 'CLIENT',
      status: 'ACTIVE',
      email: 'hung0968374@gmail.com',
      info: {
        id: 102,
        userId: 102,
        firstName: 'Hung',
        lastName: 'Nguyen',
        gender: '',
        phoneNumber: '',
        dob: null,
        addressCountry: '',
        addressProvince: null,
        addressDistrict: null,
        addressWard: null,
        addressDetail: '',
        timezone: 'Asia/Saigon',
        stripeCustomerId: '',
        avatar: 'https://avatars.dicebear.com/api/micah/102_HungNguyen.svg?backgroundColor=white',
        user_id: 102,
      },
    },
    like: 0,
    dislike: 0,
  },
  {
    createdAt: '2022-05-16T08:58:38.872Z',
    updatedAt: '2022-05-16T08:58:38.872Z',
    id: 51,
    carId: 6,
    comment: 'rep first',
    mom: 50,
    userId: 102,
    userInfo: {
      roles: 'CLIENT',
      status: 'ACTIVE',
      email: 'hung0968374@gmail.com',
      info: {
        id: 102,
        userId: 102,
        firstName: 'Hung',
        lastName: 'Nguyen',
        gender: '',
        phoneNumber: '',
        dob: null,
        addressCountry: '',
        addressProvince: null,
        addressDistrict: null,
        addressWard: null,
        addressDetail: '',
        timezone: 'Asia/Saigon',
        stripeCustomerId: '',
        avatar: 'https://avatars.dicebear.com/api/micah/102_HungNguyen.svg?backgroundColor=white',
        user_id: 102,
      },
    },
    like: 0,
    dislike: 0,
  },
  {
    createdAt: '2022-05-16T08:58:27.525Z',
    updatedAt: '2022-05-16T08:58:27.525Z',
    id: 50,
    carId: 6,
    comment: 'first comment',
    mom: '',
    userId: 102,
    userInfo: {
      roles: 'CLIENT',
      status: 'ACTIVE',
      email: 'hung0968374@gmail.com',
      info: {
        id: 102,
        userId: 102,
        firstName: 'Hung',
        lastName: 'Nguyen',
        gender: '',
        phoneNumber: '',
        dob: null,
        addressCountry: '',
        addressProvince: null,
        addressDistrict: null,
        addressWard: null,
        addressDetail: '',
        timezone: 'Asia/Saigon',
        stripeCustomerId: '',
        avatar: 'https://avatars.dicebear.com/api/micah/102_HungNguyen.svg?backgroundColor=white',
        user_id: 102,
      },
    },
    like: 0,
    dislike: 0,
  },
];

const assignComment = (comment, value) => {
  if (+comment.id === +value.mom) {
    if (!comment.child) {
      comment.child = [];
    }
    comment.child = [...comment.child, value];
    return;
  } else if (comment?.child?.length > 0) {
    func1(comment.child, value);
  } else {
    return;
  }
};

const func1 = (comments, value) => {
  for (const comment of comments) {
    assignComment(comment, value);
  }
};

const res = [];
let comments = carComments.reverse();

for (const comment of comments) {
  if (comment.mom === '') {
    res.push(comment);
  } else {
    func1(res, comment);
  }
}
